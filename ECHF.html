<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Patriot Electrical Limited â€“ Machine Electrical Connection Handover</title>
<style>
  :root { --brand-dark:#1e293b; --brand-gold:#d4af37; --ink:#0f172a; --muted:#64748b; --line:#e2e8f0; --paper:#ffffff; }
  @page { size:A4; margin:14mm; }
  html,body{height:100%;background:#f5f7fb}
  body{font:12pt/1.4 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial; color:var(--ink); margin:0}
  .sheet{width:210mm;min-height:297mm;margin:0 auto;background:var(--paper);box-shadow:0 4px 20px rgba(2,6,23,.1);position:relative;padding-bottom:40mm}
  .header-bar{display:grid;grid-template-columns:120px 1fr;align-items:center;gap:16px;padding:16px 18px;background:#fff;color:var(--ink);border-bottom:4px solid var(--brand-gold)}
  .logo-wrap{width:120px;height:48px;background:#fff;border-radius:6px;padding:6px;display:grid;place-items:center;position:relative;cursor:pointer}
  .logo{width:100%;height:100%;object-fit:contain}
  .logo-plus{position:absolute;inset:0;display:grid;place-items:center;color:#475569;font-weight:800;font-size:18px;opacity:.8}
  .company{display:none}
  .title{ text-align:center;padding:14px 18px 6px;font-weight:800;font-size:16pt}
  .subtitle{text-align:center;color:var(--muted);margin-bottom:10px}
  .block{margin:14px 18px;border:1px solid var(--line);border-radius:10px;overflow:hidden}
  .block h3{margin:0;padding:10px 12px;background:#f8fafc;border-bottom:1px solid var(--line);color:var(--brand-dark);font-size:11pt;text-transform:uppercase;letter-spacing:.06em}
  .block .content{padding:12px}
  .project-photo{border:1px dashed var(--brand-gold);border-radius:10px;height:170px;display:grid;place-items:center;color:var(--muted);position:relative;overflow:hidden;cursor:pointer;margin-bottom:12px}
  .project-photo img{max-width:100%;max-height:100%;object-fit:contain}
  .plus{position:absolute;inset:0;display:grid;place-items:center;font-size:28px;font-weight:900;color:#c084fc;mix-blend:multiply}
  .hint{position:absolute;bottom:8px;left:12px;right:12px;text-align:center;color:var(--muted);font-size:10pt}
  .details{width:100%;border-collapse:collapse}
  .details th,.details td{border:1px solid var(--line);padding:8px 10px;font-size:10.5pt}
  .details th{width:36%;text-align:left;background:#f8fafc}
  ul.clean{margin:8px 0 0 18px}
  ul.clean li{margin:4px 0}
  .checklist{list-style:none;margin:0;padding:0}
  .checklist li{display:flex;align-items:center;gap:8px;margin:6px 0}
  .cb{display:inline-grid;place-items:center;width:16px;height:16px;border:1.5px solid var(--brand-dark);border-radius:3px;cursor:pointer;font-size:12px;user-select:none}
  .cb[data-checked="true"]{background:var(--brand-dark);color:#fff}
  .muted{color:var(--muted)}
  .disclaimer{border:1px solid #e2e8f0;border-left:4px solid var(--brand-gold);background:#fffbeb;padding:10px 12px;border-radius:8px}
  .obs-head{display:flex;justify-content:space-between;align-items:center}
  .add-btn{border:1px solid var(--line);background:#fff;border-radius:8px;padding:6px 10px;font-size:10pt;cursor:pointer}
  .add-btn:hover{border-color:#cbd5e1}
  .obs-list{display:grid;gap:10px}
  .obs{border:1px solid var(--line);border-radius:10px;padding:10px;display:grid;grid-template-columns:140px 1fr 28px;gap:10px;align-items:start}
  .obs .frame{height:100px;border:1px dashed var(--brand-gold);border-radius:8px;display:grid;place-items:center;position:relative;overflow:hidden;cursor:pointer}
  .obs img{max-width:100%;max-height:100%;object-fit:contain}
  .obs textarea{width:100%;min-height:96px;border:1px solid var(--line);border-radius:8px;padding:8px;font:10.5pt/1.35 inherit;resize:vertical}
  .obs .del{border:none;background:transparent;font-size:18px;cursor:pointer;color:#94a3b8}
  .obs .del:hover{color:#ef4444}
  .sigs{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .sig{border:1px solid var(--line);border-radius:10px;padding:10px 12px}
  .sig label{display:block;font-size:9pt;color:var(--muted)}
  .sig .line{border-bottom:1px solid #cbd5e1;height:24px;margin:6px 0 10px}
  .footer{position:absolute;bottom:10mm;left:0;right:0;text-align:center;color:var(--muted);font-size:9pt;z-index:1000;background:transparent}
  @media print{body{background:#fff}.sheet{box-shadow:none}.footer::after{content:"Page " counter(page) " of " counter(pages)}}
  .sheet::before{content:"PATRIOT ELECTRICAL LIMITED";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-18deg);pointer-events:none;opacity:.045;font-weight:900;font-size:48pt;color:#0f172a;white-space:nowrap}
</style>
</head>
<body>
<section class="sheet">
  <header class="header-bar">
    <div class="logo-wrap" id="logoWrap" title="Click to add logo">
      <img id="logo" class="logo" alt="Patriot Logo" />
      <div class="logo-plus">ï¼‹</div>
    </div>
  </header>

  <div class="title">MACHINE ELECTRICAL CONNECTION</div>
  <div class="subtitle"><span style="background:var(--brand-dark);color:#fff;border-radius:999px;padding:2px 10px;font-size:10pt;font-weight:600;letter-spacing:.04em">HANDOVER &amp; LIMITATION OF RESPONSIBILITY</span></div>

  <section class="block">
    <h3>Project / Machine Details</h3>
    <div class="content">
      <div class="project-photo" id="projectPhotoWrap" title="Click to add project photo">
        <img id="projectPhoto" alt="Project photo" />
        <div class="plus">ï¼‹</div>
        <div class="hint">Add a clear photo of the machine/area (prints with the certificate)</div>
      </div>
      <table class="details">
        <tr><th>Project / Machine ID</th><td contenteditable="true">&nbsp;</td></tr>
        <tr><th>Location</th><td contenteditable="true">&nbsp;</td></tr>
        <tr><th>Date</th><td contenteditable="true" id="today">&nbsp;</td></tr>
        <tr><th>Installer</th><td>Patriot Electrical Limited</td></tr>
        <tr><th>Client / Owner</th><td contenteditable="true">&nbsp;</td></tr>
        <tr><th>Client / Owner Address</th><td contenteditable="true">&nbsp;</td></tr>
      </table>
    </div>
  </section>

  <section class="block">
    <h3>Documents â€“ Received from Client / Designer</h3>
    <div class="content">
      <ul class="checklist" id="docsClient">
        <li><span class="cb" data-checked="true">âœ“</span> Connection / termination drawings</li>
        <li><span class="cb" data-checked="false"></span> DSEAR zone drawings</li>
        <li><span class="cb" data-checked="false"></span> Commissioning plan &amp; test documentation</li>
        <li><span class="cb" data-checked="false"></span> PUWER pre-use inspection records</li>
        <li><span class="cb" data-checked="false"></span> Declaration of Conformity (UKCA / CE)</li>
        <li><span class="cb" data-checked="false"></span> Operating &amp; maintenance manuals</li>
        <li><span class="cb" data-checked="false"></span> Technical file availability statement</li>
        <li contenteditable="true" class="muted">Add other client-provided documentsâ€¦</li>
      </ul>
    </div>
  </section>

  <section class="block">
    <h3>Documents â€“ Issued by Patriot Electrical Limited</h3>
    <div class="content">
      <ul class="checklist" id="docsPatriot">
        <li><span class="cb" data-checked="true">âœ“</span> Electrical Installation Certificate â€“ panel supply cable</li>
        <li><span class="cb" data-checked="true">âœ“</span> This Handover &amp; Limitation of Responsibility form</li>
        <li><span class="cb" data-checked="false"></span> Other (specify): <span contenteditable="true" class="muted">Type hereâ€¦</span></li>
      </ul>
    </div>
  </section>

  <section class="block">
    <h3>Handover Status</h3>
    <div class="content">
      <div class="disclaimer">
        <strong>Status at handover:</strong> Machine energised for connection testing only. <strong>Not commissioned by Patriot Electrical Limited.</strong> This document does not certify the machine as safe for operation.
      </div>
    </div>
  </section>

  <section class="block">
    <h3>Compliance Responsibility Summary</h3>
    <div class="content">
      The following items are the responsibility of the <strong>machine owner / commissioning contractor</strong> (manufacturer in law) and must be in place before operation:
      <ul class="clean">
        <li>UKCA/CE marking and signed Declaration of Conformity.</li>
        <li>Complete technical file (design drawings, risk assessment per EN ISO 12100, test results, list of applied standards).</li>
        <li>Commissioning and functional safety verification (EN 60204-1, EN ISO 13849).</li>
        <li>PUWER pre-use inspection and records.</li>
        <li>DSEAR zoning/drawings where applicable.</li>
        <li>Operating &amp; maintenance instructions in English provided to the user.</li>
      </ul>
    </div>
  </section>

  <section class="block" id="obsBlock">
    <div class="content">
      <div class="obs-head">
        <h3 style="margin:0">Observations / Outstanding Safety Issues</h3>
        <button class="add-btn" id="addObs">ï¼‹ Add observation</button>
      </div>
      <div class="obs-list" id="obsList"></div>
    </div>
  </section>

  <section class="block">
    <h3>Sign-Off</h3>
    <div class="content sigs">
      <div class="sig">
        <label>Installer Name</label>
        <div class="line" contenteditable="true"></div>
        <label>Signature</label>
        <div class="line" contenteditable="true"></div>
        <label>Date</label>
        <div class="line" contenteditable="true"></div>
      </div>
      <div class="sig">
        <label>Client / Owner Name</label>
        <div class="line" contenteditable="true"></div>
        <label>Signature</label>
        <div class="line" contenteditable="true"></div>
        <label>Date</label>
        <div class="line" contenteditable="true"></div>
      </div>
    </div>
  </section>

  <div class="footer">Patriot Electrical Limited â€¢ Company No. 07303990 â€¢ James@PatriotElectricalLTD.com â€¢ 07525041141</div>
</section>

<input type="file" id="logoInput" accept="image/*" hidden>
<input type="file" id="projectPhotoInput" accept="image/*" hidden>

<script>
  (function(){
    const el=document.getElementById('today');
    const d=new Date(); const pad=n=>String(n).padStart(2,'0');
    if(el) el.textContent=`${pad(d.getDate())}/${pad(d.getMonth()+1)}/${d.getFullYear()}`;
  })();

  function bindClickToUpload(wrapperId,inputId,imgId){
    const wrap=document.getElementById(wrapperId);
    const input=document.getElementById(inputId);
    const img=document.getElementById(imgId);
    if(!wrap||!input||!img) return;
    wrap.addEventListener('click',()=>input.click());
    input.addEventListener('change',e=>{
      const file=e.target.files&&e.target.files[0]; if(!file) return;
      const reader=new FileReader();
      reader.onload=ev=>{ img.src=ev.target.result; wrap.querySelector('.plus')?.remove(); wrap.querySelector('.hint')?.remove(); };
      reader.readAsDataURL(file);
    });
  }
  bindClickToUpload('logoWrap','logoInput','logo');
  bindClickToUpload('projectPhotoWrap','projectPhotoInput','projectPhoto');

  function wireChecklist(rootId){
    const root=document.getElementById(rootId); if(!root) return;
    root.addEventListener('click',e=>{
      const cb=e.target.closest('.cb'); if(!cb) return;
      const state=cb.getAttribute('data-checked')==='true';
      cb.setAttribute('data-checked', String(!state));
      cb.textContent = !state ? 'âœ“' : '';
    });
  }
  wireChecklist('docsClient');
  wireChecklist('docsPatriot');

  const obsList=document.getElementById('obsList');
  document.getElementById('addObs').addEventListener('click',()=>{
    const id=Math.random().toString(36).slice(2,7);
    const item=document.createElement('div');
    item.className='obs';
    item.innerHTML=`
      <div class="frame" id="f_${id}" title="Click to add photo"><img id="img_${id}" alt=""/><div class="plus">ï¼‹</div></div>
      <textarea placeholder="Describe the issue, location, and required actionâ€¦"></textarea>
      <button class="del" title="Remove">âœ•</button>
      <input type="file" id="in_${id}" accept="image/*" hidden>
    `;
    obsList.appendChild(item);
    const frame=item.querySelector('#f_'+id);
    const input=item.querySelector('#in_'+id);
    const img=item.querySelector('#img_'+id);
    frame.addEventListener('click',()=>input.click());
    input.addEventListener('change',e=>{
      const file=e.target.files&&e.target.files[0]; if(!file) return;
      const reader=new FileReader();
      reader.onload=ev=>{ img.src=ev.target.result; frame.querySelector('.plus')?.remove(); };
      reader.readAsDataURL(file);
    });
    item.querySelector('.del').addEventListener('click',()=> item.remove());
  });
</script>
</body>
</html>
